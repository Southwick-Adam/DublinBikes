<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Dublin Bike Map</title>
        <link rel="icon" type="image/x-icon" href="images/favicon.ico">
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="https://unpkg.com/htmx.org@1.9.11" integrity="sha384-0gxUXCCR8yv9FM2b+U3FDbsKthCI66oH5IA9fHppQq9DDMHuMauqq1ZHBpJxQ0J0" crossorigin="anonymous"></script>
        <script defer src="https://unpkg.com/@victoryoalli/alpinejs-timeout@1.0.0/dist/timeout.min.js"></script>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyApT0xMbM9WAc0irn4JMDw1Ayb53B7Q1p8&libraries=places"></script>
        <script>
            console.log("400 ms moment of silence for our fallen brothers")
            setTimeout(() => {document.getElementById("app").classList.toggle('invisible')}, 400)
        </script>
    </head>
    <body x-data="{introOpen: !{{visited}}, open: false, rightSidebarOpen: false}" class="bg-stone-200 font-sans m-0 p-0 relative invisible" id="app">  
        <!-- Include the Intro Screen -->
        {% include "intro_screen.html" %}        
        
        <!-- sidebar section -->
        <div
            :class="open ? '' : '-translate-x-96'"
            class="bg-white text-black text-center p-9 w-96 h-screen fixed top-0 left-0 overflow-y-auto transition duration-300 ease-in-out transform z-30 shadow-2xl"
            id="sidebar"
            style="box-shadow: 5px 0px 5px rgba(0, 0, 0, 0.5);"
        >
            <!-- this is the sidebar section -->
            {% include "sidebar.html" %}
        </div>
        
        <div x-data="{ rightSidebarOpen: false }">
            <div
                :class="rightSidebarOpen ? 'translate-x-0' : 'translate-x-full'"
                class="fixed top-0 right-0 h-full text-center w-80 bg-white p-5 transition-transform duration-300 ease-in-out transform z-30 shadow-2xl"
                id="rightSidebar"
                style="box-shadow: -5px 0px 5px rgba(0, 0, 0, 0.5);"
            >
                <!-- this is the right sidebar section -->
                {% include "right_sidebar.html" %}
            </div>

        <!-- main section -->
        <div x-bind:class="open ? 'translate-x-96' : '' " class="overflow-hidden transition-all duration-300 ease-in-out" id="mainContent">
            <!-- this is the main section -->
            {% include "main.html" %}
        </div>
        {% include "searchbar.html" %}
        {% include "trip.html" %}
        {% include "select.html" %}
    </body>
</html>
